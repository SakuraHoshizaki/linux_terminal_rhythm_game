***Dancing keyboard v1.0***

12.7追記

デフォルトの譜面がどれも難しい！と言われましたので、残酷な天使のテーゼという曲（zankoku.wav）で誰でも体験できる譜面を追加しました。

音ゲーを楽しめながらキーボード練習はいかがですか~

**注意事項**：
1. 音ゲーは純正linuxかmacターミナルのみができます。wsl２は、３番目のランダムゲームのみができます（音ゲーモードはlinuxだけが使えるものを使ってるのでエラーが出ます。）

12.6追記:win11+wsl2の場合でも全モード実行可能です。


2. ランダムゲームモードは全環境実行可能です。
3. 純正linux環境でも音が出ない場合は
```
    sudo apt install pulseaudio
```
を実行してください

4. 盤面がおかしくなる場合はターミナルのサイズが100*40以上であることを確認してください。


**ゲームの遊び方：**
0. ダウンロードしたフォルダーでターミナルを立ち上げます。

1. ターミナルで
```
cd Dancing_keyboard_v1.0
gcc -pthread game.c
./a.out
```
を実行してください

2. モード選択
3. 曲選択(ランダムゲームの場合はスピード選択してスタート)
4. 難易度選択

**自分の譜面を作成するとき:**
音声ファイルを.wavにして、songsフォルダーに入れます。songsフォルダー内の.wavファイルは自動的にスキャンされます(v1.0では.wavのみになります)。また、ファイル名が20文字以上(拡張子を含む)のものは読み込まれません。

譜面作成は二つの方法があります

1. ゲームの譜面作成モードで作成する: 

入力記録が行われます。タイミングに合わせて好きなキーを押すと、譜面ファイルが自動的に上書かれます。ゲーム内の指示も参照してください。

2. bpmと文字列で作成する:

以下の書式に従ってfilename.txtファイルを作成して、ターミナルで
```
gcc -o bpc chart_bpm.c
./bpc filename.txt
```

により譜面ファイルが自動的にchartsフォルダーに生成されます。
注意: v1.0ではこの方法は4/4拍子のみになります。

**filename.txt:**

1行目:譜面ファイルの名前(19文字以内)

おすすめフォーマット: 難易度名.txt

2行目:音声ファイルのファイル名(拡張子.wavを含めません)

3行目:bpm

4行目:音声が再生されてから最初のノーツが落ちるまでの待ち時間(ms)

5行目以降:

以下の書式にしたがってノーツを入れます

' '   space   十六分音符の空き時間

'a'   a letter    ノーツ，十六分音符の時間

"(abc)" (multiple letters)    同時押しノーツ、カッコ全体が十六分音符の時間


その他のすべてのキャラクター(改行など)は飛ばされます。

デフォルト譜面に対応しているecho_bpm.txtとsakura_bpm.txtの書き方も参照できます

(デフォルトでは私が作ったhard難易度のecho、normal難易度の千本桜の二つの譜面が入っています。これらも上書き可能です。)


**最後に:**
時間がなかった為バグテストや状況想定は行ってません。表示されたもの以外を入れたりすると変な事が起こってしまうかもしれません。また、バグる場合はターミナルを閉じて再起動してください。

もしバグって音の再生が止められない場合は、
```
pulseaudio --kill
```
をターミナルに手動入力してください。

このゲームは、6単位の中間テストをサボって作成しています(もともと落とすつもりだったけど)





